generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

// O Aluno
model Student {
  id           String    @id @default(auto()) @map("_id") @db.ObjectId
  studentName  String
  email        String    @unique
  password     String
  createdAt    DateTime  @default(now())
  subjects     Subject[]
}

// A Matéria
model Subject {
  id          String       @id @default(auto()) @map("_id") @db.ObjectId
  name        String
  image       String?      
  passGrade   Float        @default(6.0) // ADICIONA ESTA LINHA
  studentId   String       @db.ObjectId
  student     Student      @relation(fields: [studentId], references: [id])
  assessments Assessment[]
}

// A Avaliação (Provas e Trabalhos)
model Assessment {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String  
  grade     Float?  
  weight    Float   
  subjectId String   @db.ObjectId
  subject   Subject  @relation(fields: [subjectId], references: [id])
}